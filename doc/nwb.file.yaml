groups:
- attributes:
  - doc: File version string. Use semantic versioning, e.g. 1.2.1. This will be the
      name of the format with trailing major, minor and patch numbers.
    dtype: text
    name: nwb_version
    value: 2.1.0
  datasets:
  - dims:
    - num_modifications
    doc: 'A record of the date the file was created and of subsequent modifications.
      The date is stored in UTC with local timezone offset as ISO 8601 extended formatted
      strings: 2018-09-28T14:43:54.123+02:00. Dates stored in UTC end in "Z" with
      no timezone offset. Date accuracy is up to milliseconds. The file can be created
      after the experiment was run, so this may differ from the experiment start time.
      Each modification to the nwb file adds a new entry to the array.'
    dtype: isodatetime
    name: file_create_date
    shape:
    - null
  - doc: A unique text identifier for the file. For example, concatenated lab name,
      file creation date/time and experimentalist, or a hash of these and/or other
      values. The goal is that the string should be unique to all other files.
    dtype: text
    name: identifier
  - doc: A description of the experimental session and data in the file.
    dtype: text
    name: session_description
  - doc: 'Date and time of the experiment/session start. The date is stored in UTC
      with local timezone offset as ISO 8601 extended formatted string: 2018-09-28T14:43:54.123+02:00.
      Dates stored in UTC end in "Z" with no timezone offset. Date accuracy is up
      to milliseconds.'
    dtype: isodatetime
    name: session_start_time
  - doc: 'Date and time corresponding to time zero of all timestamps. The date is
      stored in UTC with local timezone offset as ISO 8601 extended formatted string:
      2018-09-28T14:43:54.123+02:00. Dates stored in UTC end in "Z" with no timezone
      offset. Date accuracy is up to milliseconds. All times stored in the file use
      this time as reference (i.e., time zero).'
    dtype: isodatetime
    name: timestamps_reference_time
  doc: An NWB:N file storing cellular-based neurophysiology data from a single experimental
    session.
  groups:
  - doc: Data streams recorded from the system, including ephys, ophys, tracking,
      etc. This group should be read-only after the experiment is completed and timestamps
      are corrected to a common timebase. The data stored here may be links to raw
      data stored in external NWB files. This will allow keeping bulky raw data out
      of the file while preserving the option of keeping some/all in the file. Acquired
      data includes tracking and experimental data streams (i.e., everything measured
      from the system). If bulky data is stored in the /acquisition group, the data
      can exist in a separate NWB file that is linked to by the file being used for
      processing and analysis.
    groups:
    - doc: Acquired, raw data.
      neurodata_type_inc: NWBDataInterface
      quantity: '*'
    - doc: Tabular data that is relevent to acquisition
      neurodata_type_inc: DynamicTable
      quantity: '*'
    name: acquisition
  - doc: Lab-specific and custom scientific analysis of data. There is no defined
      format for the content of this group - the format is up to the individual user/lab.
      To facilitate sharing analysis data between labs, the contents here should be
      stored in standard types (e.g., neurodata_types) and appropriately documented.
      The file can store lab-specific and custom data analysis without restriction
      on its form or schema, reducing data formatting restrictions on end users. Such
      data should be placed in the analysis group. The analysis data should be documented
      so that it could be shared with other labs.
    groups:
    - doc: Custom analysis results.
      neurodata_type_inc: NWBContainer
      quantity: '*'
    - doc: Tabular data that is relevent to data stored in analysis
      neurodata_type_inc: DynamicTable
      quantity: '*'
    name: analysis
  - datasets:
    - attributes:
      - doc: Any notes the user has about the dataset being stored
        dtype: text
        name: notes
      doc: Any one-off datasets
      neurodata_type_def: ScratchData
      neurodata_type_inc: NWBData
      quantity: '*'
    doc: A place to store one-off analysis results. Data placed here is not intended
      for sharing. By placing data here, users acknowledge that there is no guarantee
      that their data meets any standard.
    groups:
    - doc: Any one-off containers
      neurodata_type_inc: NWBContainer
      quantity: '*'
    - doc: Any one-off tables
      neurodata_type_inc: DynamicTable
      quantity: '*'
    name: scratch
    quantity: '?'
  - doc: The home for ProcessingModules. These modules perform intermediate analysis
      of data that is necessary to perform before scientific analysis. Examples include
      spike clustering, extracting position from tracking data, stitching together
      image slices. ProcessingModules can be large and express many data sets from
      relatively complex analysis (e.g., spike detection and clustering) or small,
      representing extraction of position information from tracking video, or even
      binary lick/no-lick decisions. Common software tools (e.g., klustakwik, MClust)
      are expected to read/write data here.  'Processing' refers to intermediate analysis
      of the acquired data to make it more amenable to scientific analysis.
    groups:
    - doc: Intermediate analysis of acquired data.
      neurodata_type_inc: ProcessingModule
      quantity: '*'
    name: processing
  - doc: Data pushed into the system (eg, video stimulus, sound, voltage, etc) and
      secondary representations of that data (eg, measurements of something used as
      a stimulus). This group should be made read-only after experiment complete and
      timestamps are corrected to common timebase. Stores both presented stimuli and
      stimulus templates, the latter in case the same stimulus is presented multiple
      times, or is pulled from an external stimulus library. Stimuli are here defined
      as any signal that is pushed into the system as part of the experiment (eg,
      sound, video, voltage, etc). Many different experiments can use the same stimuli,
      and stimuli can be re-used during an experiment. The stimulus group is organized
      so that one version of template stimuli can be stored and these be used multiple
      times. These templates can exist in the present file or can be linked to a remote
      library file.
    groups:
    - doc: Stimuli presented during the experiment.
      groups:
      - doc: TimeSeries objects containing data of presented stimuli.
        neurodata_type_inc: TimeSeries
        quantity: '*'
      name: presentation
    - doc: Template stimuli. Timestamps in templates are based on stimulus design
        and are relative to the beginning of the stimulus. When templates are used,
        the stimulus instances must convert presentation times to the experiment`s
        time reference frame.
      groups:
      - doc: TimeSeries objects containing template data of presented stimuli.
        neurodata_type_inc: TimeSeries
        quantity: '*'
      name: templates
    name: stimulus
  - datasets:
    - doc: Notes about data collection and analysis.
      dtype: text
      name: data_collection
      quantity: '?'
    - doc: General description of the experiment.
      dtype: text
      name: experiment_description
      quantity: '?'
    - dims:
      - num_experimenters
      doc: Name of person(s) who performed the experiment. Can also specify roles
        of different people involved.
      dtype: text
      name: experimenter
      quantity: '?'
      shape:
      - null
    - doc: Institution(s) where experiment was performed.
      dtype: text
      name: institution
      quantity: '?'
    - dims:
      - num_keywords
      doc: Terms to search over.
      dtype: text
      name: keywords
      quantity: '?'
      shape:
      - null
    - doc: Laboratory where experiment was performed.
      dtype: text
      name: lab
      quantity: '?'
    - doc: Notes about the experiment.
      dtype: text
      name: notes
      quantity: '?'
    - doc: Description of drugs used, including how and when they were administered.
        Anesthesia(s), painkiller(s), etc., plus dosage, concentration, etc.
      dtype: text
      name: pharmacology
      quantity: '?'
    - doc: Experimental protocol, if applicable. e.g., include IACUC protocol number.
      dtype: text
      name: protocol
      quantity: '?'
    - dims:
      - num_publications
      doc: Publication information. PMID, DOI, URL, etc.
      dtype: text
      name: related_publications
      quantity: '?'
      shape:
      - null
    - doc: Lab-specific ID for the session.
      dtype: text
      name: session_id
      quantity: '?'
    - doc: Description of slices, including information about preparation thickness,
        orientation, temperature, and bath solution.
      dtype: text
      name: slices
      quantity: '?'
    - attributes:
      - doc: Name of script file.
        dtype: text
        name: file_name
      doc: Script file or link to public source code used to create this NWB file.
      dtype: text
      name: source_script
      quantity: '?'
    - doc: Notes about stimuli, such as how and where they were presented.
      dtype: text
      name: stimulus
      quantity: '?'
    - doc: Narrative description about surgery/surgeries, including date(s) and who
        performed surgery.
      dtype: text
      name: surgery
      quantity: '?'
    - doc: Information about virus(es) used in experiments, including virus ID, source,
        date made, injection location, volume, etc.
      dtype: text
      name: virus
      quantity: '?'
    doc: Experimental metadata, including protocol, notes and description of hardware
      device(s).  The metadata stored in this section should be used to describe the
      experiment. Metadata necessary for interpreting the data is stored with the
      data. General experimental metadata, including animal strain, experimental protocols,
      experimenter, devices, etc, are stored under 'general'. Core metadata (e.g.,
      that required to interpret data fields) is stored with the data itself, and
      implicitly defined by the file specification (e.g., time is in seconds). The
      strategy used here for storing non-core metadata is to use free-form text fields,
      such as would appear in sentences or paragraphs from a Methods section. Metadata
      fields are text to enable them to be more general, for example to represent
      ranges instead of numerical values. Machine-readable metadata is stored as attributes
      to these free-form datasets. All entries in the below table are to be included
      when data is present. Unused groups (e.g., intracellular_ephys in an optophysiology
      experiment) should not be created unless there is data to store within them.
    groups:
    - doc: Place-holder than can be extended so that lab-specific meta-data can be
        placed in /general.
      neurodata_type_def: LabMetaData
      neurodata_type_inc: NWBContainer
      quantity: '*'
    - doc: Description of hardware devices used during experiment, e.g., monitors,
        ADC boards, microscopes, etc.
      groups:
      - doc: Data acquisition devices.
        neurodata_type_inc: Device
        quantity: '*'
      name: devices
      quantity: '?'
    - datasets:
      - doc: Age of subject. Can be supplied instead of 'date_of_birth'.
        dtype: text
        name: age
        quantity: '?'
      - doc: Date of birth of subject. Can be supplied instead of 'age'.
        dtype: isodatetime
        name: date_of_birth
        quantity: '?'
      - doc: Description of subject and where subject came from (e.g., breeder, if
          animal).
        dtype: text
        name: description
        quantity: '?'
      - doc: Genetic strain. If absent, assume Wild Type (WT).
        dtype: text
        name: genotype
        quantity: '?'
      - doc: Gender of subject.
        dtype: text
        name: sex
        quantity: '?'
      - doc: Species of subject.
        dtype: text
        name: species
        quantity: '?'
      - doc: ID of animal/person used/participating in experiment (lab convention).
        dtype: text
        name: subject_id
        quantity: '?'
      - doc: Weight at time of experiment, at time of surgery and at other important
          times.
        dtype: text
        name: weight
        quantity: '?'
      doc: Information about the animal or person from which the data was measured.
      name: subject
      neurodata_type_def: Subject
      neurodata_type_inc: NWBContainer
      quantity: '?'
    - doc: Metadata related to extracellular electrophysiology.
      groups:
      - doc: Physical group of electrodes.
        neurodata_type_inc: ElectrodeGroup
        quantity: '*'
      - datasets:
        - doc: x coordinate of the channel location in the brain (+x is posterior).
          dtype: float32
          name: x
          neurodata_type_inc: VectorData
        - doc: y coordinate of the channel location in the brain (+y is inferior).
          dtype: float32
          name: y
          neurodata_type_inc: VectorData
        - doc: z coordinate of the channel location in the brain (+z is right).
          dtype: float32
          name: z
          neurodata_type_inc: VectorData
        - doc: Impedance of the channel.
          dtype: float32
          name: imp
          neurodata_type_inc: VectorData
        - doc: Location of the electrode (channel). Specify the area, layer, comments
            on estimation of area/layer, stereotaxic coordinates if in vivo, etc.
            Use standard atlas names for anatomical regions when possible.
          dtype: text
          name: location
          neurodata_type_inc: VectorData
        - doc: Description of hardware filtering.
          dtype: float32
          name: filtering
          neurodata_type_inc: VectorData
        - doc: Reference to the ElectrodeGroup this electrode is a part of.
          dtype:
            reftype: object
            target_type: ElectrodeGroup
          name: group
          neurodata_type_inc: VectorData
        - doc: Name of the ElectrodeGroup this electrode is a part of.
          dtype: text
          name: group_name
          neurodata_type_inc: VectorData
        - doc: x coordinate in electrode group
          dtype: float32
          name: rel_x
          neurodata_type_inc: VectorData
          quantity: '?'
        - doc: y coordinate in electrode group
          dtype: float32
          name: rel_y
          neurodata_type_inc: VectorData
          quantity: '?'
        - doc: z coordinate in electrode group
          dtype: float32
          name: rel_z
          neurodata_type_inc: VectorData
          quantity: '?'
        - doc: Description of the reference used for this electrode.
          dtype: text
          name: reference
          neurodata_type_inc: VectorData
          quantity: '?'
        doc: A table of all electrodes (i.e. channels) used for recording.
        name: electrodes
        neurodata_type_inc: DynamicTable
        quantity: '?'
      name: extracellular_ephys
      quantity: '?'
    - datasets:
      - doc: Description of filtering used. Includes filtering type and parameters,
          frequency fall-off, etc. If this changes between TimeSeries, filter description
          should be stored as a text attribute for each TimeSeries.
        dtype: text
        name: filtering
        quantity: '?'
      doc: Metadata related to intracellular electrophysiology.
      groups:
      - doc: An intracellular electrode.
        neurodata_type_inc: IntracellularElectrode
        quantity: '*'
      - doc: The table which groups different PatchClampSeries together.
        name: sweep_table
        neurodata_type_inc: SweepTable
        quantity: '?'
      name: intracellular_ephys
      quantity: '?'
    - doc: Metadata describing optogenetic stimuluation.
      groups:
      - doc: An optogenetic stimulation site.
        neurodata_type_inc: OptogeneticStimulusSite
        quantity: '*'
      name: optogenetics
      quantity: '?'
    - doc: Metadata related to optophysiology.
      groups:
      - doc: An imaging plane.
        neurodata_type_inc: ImagingPlane
        quantity: '*'
      name: optophysiology
      quantity: '?'
    name: general
  - doc: Experimental intervals, whether that be logically distinct sub-experiments
      having a particular scientific goal, trials (see trials subgroup) during an
      experiment, or epochs (see epochs subgroup) deriving from analysis of data.
    groups:
    - doc: Divisions in time marking experimental stages or sub-divisions of a single
        recording session.
      name: epochs
      neurodata_type_inc: TimeIntervals
      quantity: '?'
    - doc: Repeated experimental events that have a logical grouping.
      name: trials
      neurodata_type_inc: TimeIntervals
      quantity: '?'
    - doc: Time intervals that should be removed from analysis.
      name: invalid_times
      neurodata_type_inc: TimeIntervals
      quantity: '?'
    - doc: Optional additional table(s) for describing other experimental time intervals.
      neurodata_type_inc: TimeIntervals
      quantity: '*'
    name: intervals
    quantity: '?'
  - doc: Data about sorted spike units.
    name: units
    neurodata_type_inc: Units
    quantity: '?'
  name: root
  neurodata_type_def: NWBFile
  neurodata_type_inc: NWBContainer
